!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="dist/",n(n.s=5)}([function(t,e,n){var r=n(2),o=n(3),a=n(4);t.exports=function(t,e){return r(t)||o(t,e)||a()}},function(t,e){t.exports=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}},function(t,e){t.exports=function(t){if(Array.isArray(t))return t}},function(t,e){t.exports=function(t,e){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t)){var n=[],r=!0,o=!1,a=void 0;try{for(var c,i=t[Symbol.iterator]();!(r=(c=i.next()).done)&&(n.push(c.value),!e||n.length!==e);r=!0);}catch(t){o=!0,a=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw a}}return n}}},function(t,e){t.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}},function(t,e,n){"use strict";n.r(e);var r=n(0),o=n.n(r),a=n(1),c=n.n(a),i={NEW:0,COMPLETED:1},d=function(t){var e="0".concat(t.getHours()).slice(-2),n="0".concat(t.getMinutes()).slice(-2),r="0".concat(t.getSeconds()).slice(-2),o="0".concat(t.getDate()+1).slice(-2),a="0".concat(t.getMonth()+1).slice(-2);return"".concat(e,":").concat(n,":").concat(r," ").concat(o,".").concat(a,".").concat(t.getFullYear())},l={BLUE:0,GREEN:1,YELLOW:2,RED:3,BLACK:4},u=function(t){return l[t]},s=function(t){switch(t){case l.BLUE:return"text-primary";case l.GREEN:return"text-success";case l.RED:return"text-danger";case l.YELLOW:return"text-warning";case l.BLACK:return"text-dark";default:throw new Error("Color not found")}},p=function(t){var e=t.title,n=t.text,r=t.priority,o=t.date,a=t.color,c=document.createElement("div");c.classList.add("w-100","mr-2");var i=document.createElement("div");i.classList.add("d-flex","w-100","justify-content-between");var l=document.createElement("h5");l.classList.add(s(a),"mb-1"),l.textContent=e,i.append(l);var u=document.createElement("div"),p=document.createElement("small");p.textContent="".concat(r," priority"),p.classList.add("mr-2"),u.append(p);var m=document.createElement("small");m.textContent=o instanceof Date?d(o):d(new Date(o)),u.append(m),i.append(u);var f=document.createElement("p");return f.textContent=n,f.classList.add("mb-1","w-100"),c.append(i),c.append(f),c},m=function(t){var e=t.id,n=document.createElement("div");n.classList.add("dropdown","m-2","dropleft");var r=document.createElement("button");r.classList.add("btn","btn-secondary","h-100"),r.type="button",r.dataset.toggle="dropdown",r.setAttribute("aria-haspopup",!0),r.setAttribute("aria-expanded",!1);var o=document.createElement("i");o.classList.add("fas","fa-ellipsis-v"),r.append(o);var a=document.createElement("div");a.classList.add("dropdown-menu","p-2","flex-column"),a.setAttribute("aria-labelledby","dropdownMenuItem1");var c=document.createElement("button");c.classList.add("btn","btn-success","w-100"),c.type="button",c.textContent="Complete",c.name="complete",c.dataset.id=e;var i=document.createElement("button");i.classList.add("btn","btn-info","w-100","my-2"),i.type="button",i.textContent="Edit",i.name="edit",i.dataset.id=e,i.dataset.toggle="modal",i.dataset.target="#exampleModal";var d=document.createElement("button");return d.classList.add("btn","btn-danger","w-100"),d.type="button",d.textContent="Delete",d.name="delete",d.dataset.id=e,a.append(c),a.append(i),a.append(d),n.append(r),n.append(a),n},f=function(t,e){t.textContent="";for(var n=0;n<e.length;n+=1){var r=e[n],o=document.createElement("li");o.classList.add("list-group-item","d-flex","w-100","mb-2"),o.style.background=r.color,o.append(p(r)),r.status===i.NEW&&o.append(m(r)),t.append(o)}},y=0,b=1,g=function(t,e){return e===y?t.sort((function(t,e){return t.id-e.id})):t.sort((function(t,e){return e.id-t.id}))},v={LOW:0,MEDIUM:1,HIGH:2},O=document.querySelector("#toDoForm"),S=document.querySelector("#inputTitle"),E=document.querySelector("#inputText"),L=document.querySelector("#currentTasksCount"),x=document.querySelector("#completedTasksCount"),T=document.querySelector("#currentTasks"),w=document.querySelector("#completedTasks"),D=document.querySelector("#ascSort"),h=document.querySelector("#descSort"),C=document.querySelector("#openAddTaskModal"),k=document.querySelector("#addTaskButton"),I=document.querySelector("#updateTaskButton"),_=document.querySelector("#exampleModal"),j=document.querySelector("#exampleModalLabel"),M=document.querySelector(".close"),P=document.querySelector("#closeButton"),N={TO_DO_LIST:"toDoList",COMPLETED_LIST:"completedList"};function q(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}document.addEventListener("DOMContentLoaded",(function(){var t=JSON.parse(localStorage.getItem(N.TO_DO_LIST))||[],e=JSON.parse(localStorage.getItem(N.COMPLETED_LIST))||[],n=y,r=function(e,r){e.preventDefault();var o=new FormData(e.target),a={title:o.get("inputTitle"),text:o.get("inputText"),priority:o.get("gridRadios"),color:u(o.get("color").toUpperCase())},i=t.findIndex((function(t){return t.id===Number(r)})),d=t[i];t[i]=function(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?q(Object(n),!0).forEach((function(e){c()(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):q(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}({},d,{},a),g(t,n),f(T,t),L.textContent=t.length,O.reset(),P.click(),localStorage.setItem(N.TO_DO_LIST,JSON.stringify(t))},a=function(r){n=r,g(e,r),g(t,r),f(T,t),f(w,e),localStorage.setItem(N.TO_DO_LIST,JSON.stringify(t)),localStorage.setItem(N.COMPLETED_LIST,JSON.stringify(e))},d=function(){O.reset()};O.addEventListener("submit",(function(e){var o=document.activeElement;switch(o.value){case"add":!function(e){e.preventDefault();var r=new FormData(e.target),o=new Date,a={id:+o,title:r.get("inputTitle"),text:r.get("inputText"),priority:r.get("gridRadios"),date:o,status:i.NEW,color:u(r.get("color").toUpperCase())};t.push(a),g(t,n),f(T,t),L.textContent=t.length,O.reset(),P.click(),localStorage.setItem(N.TO_DO_LIST,JSON.stringify(t))}(e);break;case"update":r(e,o.dataset.id);break;default:throw new Error("Button not found")}})),T.addEventListener("click",(function(r){var a,c=r.target.closest(".dropdown-menu button");if(c)switch(c.name){case"delete":for(var d=c.dataset.id,l=0;l<t.length;l+=1)t[l].id===Number(d)&&t.splice(l,1);c.closest("li").remove(),L.textContent=t.length,localStorage.setItem(N.TO_DO_LIST,JSON.stringify(t));break;case"edit":var u=c.dataset.id,s=t.find((function(t){return t.id===Number(u)}));_.style.display="block",k.style.display="none",I.style.display="inline-block",I.dataset.id=s.id,S.value=s.title,E.value=s.text,document.toDoForm.gridRadios[(a=s.priority.toUpperCase(),v[a])].checked=!0,document.toDoForm.color[s.color].checked=!0,j.textContent="Update task";break;case"complete":for(var p,m=c.dataset.id,y=0;y<t.length;y+=1)if(t[y].id===Number(m)){var b=t.splice(y,1);p=o()(b,1)[0]}c.closest("li").remove(),p.status=i.COMPLETED,e.push(p),g(e,n),f(w,e),L.textContent=t.length,x.textContent=e.length,localStorage.setItem(N.TO_DO_LIST,JSON.stringify(t)),localStorage.setItem(N.COMPLETED_LIST,JSON.stringify(e))}})),D.addEventListener("click",(function(){return a(y)})),h.addEventListener("click",(function(){return a(b)})),C.addEventListener("click",(function(){k.style.display="inline-block",I.style.display="none",j.textContent="Add task"})),P.addEventListener("click",d),M.addEventListener("click",d),f(T,t),f(w,e),L.textContent=t.length,x.textContent=e.length}))}]);